# ✅ **План работы над проектом**

## 1. **Определение целей анализа**

Что должен уметь скрипт:

* Подключаться к почтовому ящику (IMAP/POP3).
* Скачивать письма и метаданные.
* Проверять отправителя.
* Анализировать домен/почтовый сервер.
* Анализировать заголовки.
* Анализировать тело письма (через ИИ-модель).
* Проверять вложения (антивирус / сигнатуры / тип файлов).
* Формировать отчёт о возможных фишинговых признаках.

---

## 2. **Разработка алгоритмов анализа**

### 2.1. Проверка отправителя

* Сравнение имени отправителя и email.
* Проверка домена отправителя (репутация, молодость домена, подозрительные TLD).
* Проверка отображаемого имени vs реальный отправитель.

### 2.2. Проверка почтового сервера и заголовков

* SPF, DKIM, DMARC (в идеале).
* Received-заголовки — подозрительные маршруты.
* Несовпадение Return-Path и From.

*(Для учебного задания можно симулировать проверки — не обязательно выполнять DNS-запросы.)*

### 2.3. Анализ тела письма (через ИИ)

* Лексический анализ: слова-триггеры ("urgent", "verify", "click").
* Анализ HTML: наличие скрытых ссылок.
* Проверка ссылок на фишинговый стиль: маскировка под банки, сервисы.
* ИИ-оценка текста (например, через локальную модель или API).

### 2.4. Анализ вложений

* Проверка расширений.
* Проверка MIME-типа: совпадает ли с расширением.
* Простая «сигнатурная» проверка (например, обнаружение ZIP → EXE).
* Проверка хэшей (например, VirusTotal API — опционально).
* Для учёбы можно заложить примитивную проверку по спискам «опасных типов».

---

## 3. **Разработка системы оценок риска**

Создать систему баллов, например:

| Признак                          | Баллы |
| -------------------------------- | ----- |
| Подозрительный домен             | +20   |
| Нестандартные заголовки          | +10   |
| Подозрительное содержание текста | +30   |
| Вредоносное вложение             | +40   |

Итого → классификация письма:

* 0–20: безопасное
* 20–50: подозрительное
* 50+: вероятный фишинг

---

## 4. **Формирование отчёта**

Форматы:

* JSON
* HTML отчёт
* CSV

Отчёт должен содержать:

* ID письма
* Отправитель
* Итоги проверок по алгоритмам
* Общий риск
* Краткое описание подозрительных признаков